* >Natural Source Header 000000 /*<RO>>
* :NatName XIXXMN1C
* :UID ARMK01
* :Mode S
* :CP
* :Date 20061018
* :Time 1418000
* <Natural Source Header /*<<RO>
DEFINE DATA
PARAMETER USING XXERX00A
PARAMETER USING XXCTXX0A
PARAMETER USING &3&
PARAMETER USING &4&
PARAMETER USING UXCSXX0A
/*
LOCAL USING XXXXEC0L
LOCAL USING XBTXMN0A
/*
END-DEFINE
DEFINE SUBROUTINE &1&
RESET XXERX00A
/*
IF SUBSTRING(ME-COMMAND,1,4) NE "READ" AND
   SUBSTRING(ME-COMMAND,1,5) NE "CHECK" THEN
   PERFORM TX-LOCATE
END-IF
/*
PERFORM &2& XXERX00A XXCTXX0A &3& &4& UXCSXX0A
IF NOT TX-NOT-MANAGED THEN
  IF RETURN-CODE EQ 0 THEN
     END TRANSACTION
  ELSE
     BACKOUT TRANSACTION
  END-IF
END-IF
IF RETURN-CODE LT 0 THEN *ERROR-NR := EC-QUIT-STACK-TRACE END-IF
/*
DEFINE SUBROUTINE TX-LOCATE
  MOVE 'LOCATE' TO XBTXMN0A.BL-COMMAND
  PERFORM XBTXMN0S XXERX00A XXCTXX0A XBTXMN0A
  IF RETURN-CODE NE 0 THEN *ERROR-NR := EC-QUIT-STACK-TRACE END-IF
END-SUBROUTINE
/*
INCLUDE XXERSY1C
END-SUBROUTINE
